---
name: data-join-api
structure:
  - title: d3fc-data-join
    level: 1
    content: "A wrapper around D3's data join which simplifies some of the common problems that have been run into with *our particular usage patterns*, and facilitates the *d3fc decorate* pattern. These are not going to be universally applicable. As always itâ€™s important to understand the abstraction and in many cases a vanilla data join may be simpler or perform better.\r\n\r\nThis blog post ([Building Components with Data Join](http://blog.scottlogic.com/2016/08/17/building-components-with-d3-data-join.html)) introduces the rationale behind this component.\r\n\r\n"
    children:
      - title: API Reference
        level: 2
        content: "The data-join component is a relatively lightweight wrapper around d3's selectAll/data data-join, which allows decoration of the result. This is achieved by appending the element to the enter selection before exposing it. A default transition of fade in/out is also implicitly added but can be modified.\r\n\r\n<a name=\"dataJoin\" href=\"#dataJoin\">#</a> fc.**dataJoin**([*element*][, *className*])\r\n\r\nConstructs a new data-join component instance. Optionally an `element` or an `element` and a `className` can be specified, this is functionally equivalent to calling their methods as defined below.\r\n\r\n<a name=\"dataJoin_\" href=\"#dataJoin_\">#</a> *dataJoin*(*selection*[, *data*])\r\n\r\nInvoke with a `selection` containing the parent element and the `data` to be joined.\r\n\r\n```js\r\nimport { dataJoin } from 'd3fc-data-join';\r\nimport { select } from 'd3-selection';\r\n\r\nconst join = dataJoin('li', 'animal');\r\n\r\njoin(select('ul'), ['Aardvark', 'Beaver', 'Cat'])\r\n  .text(d => d);\r\n```\r\n\r\nThe return value is a selection containing all new and existing nodes. Two additional methods are exposed for retrieving a selection containing only the new nodes (`.enter()`) and the removed nodes (`.exit()`).\r\n\r\n```js\r\nimport { dataJoin } from 'd3fc-data-join';\r\nimport { select } from 'd3-selection';\r\n\r\nconst join = dataJoin('li', 'animal');\r\n\r\nconst update = join(select('ul'), ['Aardvark', 'Beaver', 'Cat'])\r\n  .text(d => d);\r\n\r\nupdate.enter()\r\n  .attr('data-', d => d);\r\n\r\n```\r\n\r\nIf `d3-transition` is available, new nodes will have a fade-in transition applied and removed nodes will have a fade-out transition applied. The transition timings can be controlled from the node selection passed in or one of the ancestors there of.\r\n\r\n```js\r\nimport { dataJoin } from 'd3fc-data-join';\r\nimport { select } from 'd3-selection';\r\nimport { transition } from 'd3-transition';\r\n\r\nconst quickTransition = transition()\r\n.duration(300);\r\n\r\nconst join = dataJoin('li', 'animal')\r\n  .transition(quickTransition);\r\n\r\njoin(select('ul'), ['Aardvark', 'Beaver', 'Cat'])\r\n  .text(d => d);\r\n```\r\n\r\n<a name=\"dataJoin_element\" href=\"#dataJoin_element\">#</a> *dataJoin*.**element**(*element*)\r\n\r\nSets the element name used to select elements and to create elements for insertion. Defaults to an SVG `g` element. See `className` for a description of the selector used.\r\n\r\n<a name=\"dataJoin_className\" href=\"#dataJoin_className\">#</a> *dataJoin*.**className**(*className*)\r\n\r\nSet the class name used to select elements and applied to inserted elements. Defaults to `null`. If set to `null`, only the `element` is used as the selector. If non-null, the selector provided to `selectAll` is -\r\n\r\n```js\r\n`${element}.${className}`\r\n```\r\n\r\n<a name=\"dataJoin_key\" href=\"#dataJoin_key\">#</a> *dataJoin*.**key**(*keyFunc*)\r\n\r\nSpecifies the key function used by the data-join. Defaults to index-based. Equivalent to specifying a `key` argument when calling [`selection.data()`](https://github.com/d3/d3-selection#selection_data).\r\n\r\n<a name=\"dataJoin_transition\" href=\"#dataJoin_transition\">#</a> *dataJoin*.**transition**(*transition*)\r\n\r\nSpecifies the transition to be used if `d3-transition` is available. Defaults to `null` which uses the default transition,`. Equivalent to specifying a `key` argument when calling `[selection.data()](https://github.com/d3/d3-selection#selection_data)`.\r\n"
layout: api
section: api
title: Data Join

---
